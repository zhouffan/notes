1. 高质量开发：对 APM 性能监控系统也越来越重视。我挑选了崩溃、内存、卡顿、启动、I/O、存储、网络、耗电、渲染、安装包体积等比较常见的关键点。

2. 高效开发：需要经历开发、编译 CI、测试、灰度、发布等多个阶段，那怎样提升各个阶段的效率，也是你我比较关心的话题
3.  架构演进：Android P、App Bundle、虚拟机、耗电等，跨平台开发、动态化实践等热点知识。
4. 移动开发不等于 App 开发，所有新的技术浪潮其实都可以融入到移动开发的体系里，比如 IoT、音视频、边缘计算、VR/AR。
5. 不要把时间浪费在纠结问题上，而是应该放在解决问题上。



# 1 崩溃优化

- Java 崩溃 ： 在 Java 代码中，出现了未捕获异常，导致程序异常退出。

  

-  Native 崩溃：因为在 Native 代码中访问**非法地址**，也可能是地址对齐出现了问题，或者发生了程序主动 abort，这些都会产生相应的 signal 信号，导致程序异常退出。

  Chromium 的Breakpad是目前 Native 崩溃捕获中最成熟的方案

  微信读书、蘑菇街、淘宝、天猫这些“重运营”的应用都有使用一种叫作**“安全模式”的技术**来保障客户端的启动流程，在监控到客户端启动失败后，给用户自救的机会。

- ANR 异常：

  1. 使用 FileObserver 监听 /data/anr/traces.txt 的变化。非常不幸的是，很多高版本的 ROM，已经没有读取这个文件的权限了。

  2.  监控消息队列的运行时间。

  3. 在启动时会检查上次应用的退出类型，如果检查连续三次异常退出，将会自动清除补丁。

     

1 主动自杀。Process.killProcess()、exit() 等。

2 崩溃。出现了 Java 或 Native 崩溃。

3 系统重启；系统出现异常、断电、用户主动重启等，我们可以通过比较应用开机运行时间是否比之前记录的值更小。被系统杀死。

4 被 low memory killer 杀掉、从系统的任务管理器中划掉等。

5 ANR。

在应用启动的时候设定一个标志，在**主动自杀**或**崩溃**后更新标志，这样下次启动时通过检测这个标志就能确认运行期间是否发生过异常退出。



腾讯的**Bugly**、阿里的啄木鸟平台、网易云捕、Google 的 Firebase 等等。



- 采集哪些信息

1. 崩溃信息

   进程名、线程名/    崩溃堆栈和类型

2. 系统信息

3. 内存信息

4. 资源信息

5. 应用信息

- 崩溃分析

  第一步：确定重点

  第二步：查找共性

  第三步：尝试复现





# 2 内存优化

“systrace + 函数插桩”是一个非常不错的卡顿排查工具













